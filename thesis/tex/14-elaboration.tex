% \subsection{Elaboration of \eff into \core}
% The elaboration show how the source language can be transformed into \core.

% \begin{figure}[!htb]
% \begin{center}
% \framebox{
% \begin{minipage}{0.95\columnwidth}
% \[\begin{array}{r@{~}c@{~}l}
%   \text{typing contexts}~\ctx & \bnfis {} & \epsilon \bnfor \ctx, x : A \bnfor \ctx,  x : \polytype{B}\\
% \end{array}\]
% \textbf{Expressions}
% \begin{mathpar}
%   \inferrule[SubVal]{
%     \ctx \ent v \T A \leadsto v' \\
%     A \le B
%   }{
%     \ctx \ent v \T B \leadsto v'
%   }

%   \inferrule[Var-$\lambda$]{
%     (x \T A) \in \ctx
%   }{
%     \ctx \ent x \T A \leadsto x
%   }

%   \inferrule[Var-$\forall$]{
%     (\letvar \T \polytype{A}) \in \ctx
%   }{
%     \ctx \ent \letvar \T A[\bar{A}/\bar{\alpha}] \leadsto \letvar
%   }

%   \inferrule[True]{
%   }{
%     \ctx \ent \tru \T bool \leadsto \tru
%   }

%   \inferrule[False]{
%   }{
%     \ctx \ent \fls \T bool \leadsto \fls
%   }
  

%   \inferrule[Fun]{
%     \ctx, x \T A \ent c \T \C \leadsto c'
%   }{
%     \ctx \ent \fun{x} c \T A \to \C \leadsto \fun{x} c'
%   }

%   \inferrule[Hand]{
%     \ctx, x \T A \ent c_r \T B \E \dirt \\
%     \Big[
%       (\op \T A_\op \to B_\op) \in \sig \qquad 
%       \ctx, x \T A_\op, k \T B_\op \to B \E \dirt \ent c_\op \T B \E \dirt
%     \Big]_{\op \in \ops}
%   }{
%     \ctx \ent \shorthand \T A \E \dirt \cup \ops \hto B \E \dirt \\ \leadsto \shorthand
%   }

% \end{mathpar}
% \end{minipage}
% }
% \end{center}
% \caption{Elaboration of source to core language: expressions}\label{fig:elaboration:exp}
% \end{figure}


% \begin{figure}[!htb]
% \begin{center}
% \framebox{
% \begin{minipage}{0.95\columnwidth}
% \[\begin{array}{r@{~}c@{~}l}
%   \text{typing contexts}~\ctx & \bnfis {} & \epsilon \bnfor \ctx, x : A, x : \polytype{B}\\
% \end{array}\]
% \textbf{Computations}
% \begin{mathpar}
%   \inferrule[SubComp]{
%     \ctx \ent c \T \C \leadsto c'\\
%     \C \le \D
%   }{
%     \ctx \ent c \T \D \leadsto c'
%   }

%   \inferrule[App]{
%     \ctx \ent v_1 \T A \to \C \leadsto v'_1 \\
%     \ctx \ent v_2 \T A \leadsto v'_2
%   }{
%     \ctx \ent v_1 \, v_2 \T \C \leadsto v'_1 \, v'_2 \T \C
%   }

%   \inferrule[Cond]{
%     \ctx \ent v \T bool \leadsto v' \\
%     \ctx \ent c_1 \T \C \leadsto c_1' \\
%     \ctx \ent c_2 \T \C \leadsto c_2' \\
%   }{
%     \ctx \ent \conditional{v}{c_1}{c_2} \T \C \leadsto \conditional{v'}{c_1'}{c_2'}
%   }

%   \inferrule[Ret]{
%     \ctx \ent v \T A \leadsto v'
%   }{
%     \ctx \ent \ret v \T A \E \emptyset \leadsto \ret v' \T A \E \emptyrow
%   }

%   \inferrule[Op]{
%     (\op \T A \to B) \in \sig \\
%     \ctx \ent v \T A \leadsto v'
%   }{
%     \ctx \ent \op \, v \T B \E \{\op\} \leadsto \op \, v' \T B \E \op
%   }

%   \inferrule[Let]{
%     \ctx \ent c_1 \T A \E \dirt \\
%     \ctx, \letvar \T \polytype{A} \ent c_2 \T B \E \dirt \\
%     \alpha \not\in FTV(\ctx)
%   }{
%     \ctx \ent \doin{\letvar \leftarrow c_1} c_2 \T B \E \dirt \leadsto \letin{\letvar = c_1} c_2
%   }

%   \inferrule[With]{
%     \ctx \ent v \T \C \hto \D \leadsto v' \\
%     \ctx \ent c \T \C \leadsto c'
%   }{
%     \ctx \ent \withhandle{v}{c} \T \D \leadsto \withhandle{v'}{c'} \T \D
%   }
% \end{mathpar}
% \end{minipage}
% }
% \end{center}
% \caption{Elaboration of source to core language: computations}\label{fig:elaboration:comp}
% \end{figure}
